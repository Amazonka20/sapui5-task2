<mvc:View controllerName="project2.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
	<Table id="booksTable"
		inset="false"
    mode="MultiSelect"
		items="{books>/book}">
    		<headerToolbar>
					<OverflowToolbar>
						  <Button text="{i18n>btnAdd}" press="onAdd"/>
						  <Button text="{i18n>btnDelete}" press="onDelete" type="Reject"/>
						<ToolbarSpacer />
            	<Label text="{i18n>filterLabel}" labelFor="input-a" />
		          <Input 
                    id="input-a" 
                    value="{books>/nameFilter}"  
                    width="30%"/>
				    <Select
                    selectedKey="{books>/selectedGenre}"
                    items="{path: 'books>/genres'}">
                    <core:Item key="{books>key}" text="{books>text}" />
				    </Select>
            <Button text="Filter" press="onFilterChange" />
					</OverflowToolbar>
				</headerToolbar>
       <columns>
            <Column><Text text="{i18n>colName}"/></Column>
            <Column hAlign="End"><Text text="{i18n>colAuthor}"/></Column>
            <Column hAlign="End"><Text text="{i18n>colGenre}"/></Column>
            <Column hAlign="End"><Text text="{i18n>colReleaseDate}"/></Column>
            <Column hAlign="Center"><Text text="{i18n>colAvailableQuantity}"/></Column>
            <Column><Text text="{i18n>colActions}"/></Column>
        </columns>
        <items>
    <ColumnListItem>
      <cells>
        <VBox>
          <Text text="{books>Name}" visible="{= !${books>editMode}}"/>
          <Input value="{books>Name}" visible="{books>editMode}" />
        </VBox>
        <Text text="{books>Author}"/>
        <Text text="{books>Genre}"/>
         <Text text="{
          path:'books>ReleaseDate',
          type:'sap.ui.model.type.Date',
          formatOptions:{style:'medium'}
        }"/>
        <ObjectNumber number="{books>AvailableQuantity}"/>
         <Button 
            text="{= ${books>editMode} ? ${i18n>btnSave} : ${i18n>btnEdit}}" 
            press="onToggleEdit" 
            type="Transparent"/>
      </cells>
    </ColumnListItem>
      </items>
	</Table>
</Page>
</mvc:View>
